<div class="listening-container">
    <div class="header-section">
        <div class="header-content">
            <div class="header-icon">
                <i class="fas fa-headphones"></i>
            </div>
            <div class="header-text">
                <h1 class="title">日本語聴解練習</h1>
                <p class="subtitle">Japanese Listening Practice</p>
            </div>
        </div>
    </div>

    <div class="content-wrapper">
        <nz-spin [nzSpinning]="loading" [nzSize]="'large'">
            <div class="lessons-grid" *ngIf="!loading && lessons.length > 0">
                <div class="lesson-card" *ngFor="let lesson of lessons; trackBy: trackByFn"
                    (click)="selectLesson(lesson)">
                    <div class="lesson-content">
                        <div class="lesson-header">
                            <div class="lesson-icon">
                                <i class="fas fa-play-circle"></i>
                            </div>
                            <div class="lesson-type">
                                <nz-tag nzColor="blue">
                                    <i class="fas fa-volume-up"></i>
                                    {{ lesson.lessonType }}
                                </nz-tag>
                            </div>
                        </div>

                        <div class="lesson-body">
                            <h3 class="lesson-title">{{ lesson.title }}</h3>
                            <div class="lesson-meta">
                                <span class="lesson-id">
                                    <i class="fas fa-hashtag"></i>
                                    Lesson {{ lesson.id }}
                                </span>
                            </div>
                        </div>

                        <div class="lesson-footer">
                            <!-- <div class="action-buttons">
                                <button nz-button nzType="primary" nzSize="small">
                                    <i class="fas fa-play"></i>
                                    開始学習
                                </button>
                                <button nz-button nzType="default" nzSize="small">
                                    <i class="fas fa-info-circle"></i>
                                    詳細
                                </button>
                            </div> -->
                        </div>
                    </div>

                    <div class="lesson-overlay">
                        <div class="overlay-content">
                            <i class="fas fa-play"></i>
                            <span>Start Lesson</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="empty-state" *ngIf="!loading && lessons.length === 0">
                <div class="empty-content">
                    <i class="fas fa-music"></i>
                    <h3>No Listening Lessons Found</h3>
                    <p>There are no listening lessons available at the moment.</p>
                </div>
            </div>
        </nz-spin>

        <div class="pagination-section" *ngIf="totalPages > 1">
            <nz-pagination [nzTotal]="totalLessons" [nzPageSize]="pageSize"
                [nzShowSizeChanger]="true" [nzShowQuickJumper]="true" [nzShowTotal]="totalTemplate"
                (nzPageIndexChange)="onPageChange($event)" (nzPageSizeChange)="onPageSizeChange($event)">
            </nz-pagination>

            <ng-template #totalTemplate let-total let-range="range">
                {{ range[0] }}-{{ range[1] }} of {{ total }} lessons
            </ng-template>
        </div>
    </div>
</div>